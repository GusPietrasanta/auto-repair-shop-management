@using DataAccessLibrary.Data.Interfaces
@inject IStatisticsDataService StatisticsData

<SfAccumulationChart Title="Vehicles by Brand">
	<AccumulationChartTitleStyle Size="23px" FontFamily="Arial" FontWeight="regular" FontStyle="bold"></AccumulationChartTitleStyle>
	<AccumulationChartLegendSettings Visible="true" Position="LegendPosition.Top"></AccumulationChartLegendSettings>
	<AccumulationChartSeriesCollection>
		<AccumulationChartSeries Type="AccumulationType.Pie" LegendShape="LegendShape.Rectangle"
			DataSource="@Brands" XName="Make" YName="VehicleCount">
			<AccumulationDataLabelSettings Visible="true" Name="Browser" Position="AccumulationLabelPosition.Outside"></AccumulationDataLabelSettings>
			<AccumulationChartTooltipSettings Enable="true"></AccumulationChartTooltipSettings>
		</AccumulationChartSeries>
	</AccumulationChartSeriesCollection>
</SfAccumulationChart>

@code {
	public List<IMakeCountDataModel> Brands;

	protected override async Task OnInitializedAsync()
	{
		Brands = await StatisticsData.GetMakeCountStatistics();
	}
}